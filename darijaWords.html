<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>darijaWords2024</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <link rel="stylesheet" href="loader.css">

</head>
<body>
    <a href="index.html"><i class="fa fa-arrow-left"></i> ÙŽ</a>
  
    
    <h1 id="title">Darija-database2024</h1>
    <div class="loader-section">
        <div class="loader" id="loader"></div>

    </div>
  <div id="btns">
    <button  class="btn" id="nounsBtn">nouns</button>
    <button  class="btn" id="verbsBtn">verbs</button>
    <button  class="btn" id="pronounsBtn">pronouns</button>
    <button  class="btn" id="adjsBtn">adjs</button>
  </div>

    <section class="words" id="words">
        <div id="nouns">
          <label id="nounsLbl">nouns:</label>
        </div>
        
        <div id="verbs">
          <label id="verbsLbl">verbs:</label>
        </div>

        <div id="pronouns">
          <label id="pronounsLbl">pronouns:</label>
        </div>
        <div id="adjs">
          <label id="adjsLbl">adjs:</label>
        </div>
    </section>


    <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap');
*{
    font-family: 'Poppins', sans-serif;
}

i{
    font-size: 20px;
    color: black;
    padding: 5px;
    border-radius: 100px;
    transition: all .3s;
}

i:hover{
    background-color: rgb(248, 248, 248);
    cursor: pointer;
}
a{
    
    color: white;
    cursor: auto;
}
h1{
    text-align: center;
}

.words{
    display: none;
    
   
    
   
}

.words div{
    border: solid 1px black;
    border-radius: 10px;
    gap: 5px;
    padding: 10px;
    margin: 5px;
    

}
p{
    transition: all .3s;
    cursor: pointer;
}
p:hover{
    padding: 5px;
    border: solid 1px black;
    border-radius: 10px;
    transition: all .3s;
}


button{
    background: white;
    border : solid 1px black;
    border-radius: 10px;
    padding: 5px;
    transition: all .3s ;
    cursor: pointer;

}

#btns{
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
}
.btn{
width: 80px;
}
    </style>

    <script>
        //DOM
        const nounsDiv = document.getElementById('nouns');
        const verbsDiv = document.getElementById('verbs');
        const pronounsDiv = document.getElementById('pronouns');
        const adjsDiv = document.getElementById('adjs');

        const loader = document.getElementById('loader');
        const container = document.getElementById('words');

        // Your Firebase configuration
        const firebaseConfig = {
      apiKey: "AIzaSyBOGC8qinBmX_F4msMrrxV3VgbwYt6mtg8",
      authDomain: "darija2024-database.firebaseapp.com",
      databaseURL: "https://darija2024-database-default-rtdb.firebaseio.com",
      projectId: "darija2024-database",
      storageBucket: "darija2024-database.appspot.com",
      messagingSenderId: "621215461163",
      appId: "1:621215461163:web:d594741683e99c742fdf6e",
      measurementId: "G-VYFCV3GLZN"
    };
    var wordsData = [] ;
    var verbs = [];
    var adjs = [];
    var nouns = [];
    var pronouns = [];

    

        // Initialize Firebase
        const app = firebase.initializeApp(firebaseConfig);
        const database = firebase.database(app);

        // Reference to your data in Firebase
        const wordRef = database.ref('darija-words');

        // Fetch data from Firebase
        wordRef.once('value', (snapshot) => {
            const data = snapshot.val();
            
           
        


            
            
           for(key in data){
            
            if(key[2] === 'v'){
               
                const newElement = document.createElement('p');
                newElement.textContent = key;
                verbsDiv.appendChild(newElement);


                verbs.push(key)
                wordsData.push(key)
            }
            else if(key[2] ==='n') {
                
                const newElement = document.createElement('p');
                newElement.textContent = key;
                nounsDiv.appendChild(newElement);
                console.log(key)
                nouns.push(key)
                wordsData.push(key)


            }
            else if (key[2] === 'p') {
                
                const newElement = document.createElement('p');
                newElement.textContent = key;
                pronounsDiv.appendChild(newElement);

                pronouns.push(key)
                wordsData.push(key)


            }
            else if(key[2] === 'a'){
                
                const newElement = document.createElement('p');
                newElement.textContent = key;
                adjsDiv.appendChild(newElement);

                adjs.push(key)
                wordsData.push(key)


            }
 
           }
  loader.style.display = 'none'
  container.style.display = 'grid'
  $('#title').text(`Darija-database2024(${wordsData.length}) :`);

  $('#nounsLbl').text(`Nouns (${nouns.length}) :`);

  $('#verbsLbl').text(`Verbs (${verbs.length}) :`);

  $('#adjsLbl').text(`Adjs (${adjs.length}) :`);

  $('#pronounsLbl').text(`Pronouns (${pronouns.length}) :`);

       
        });
       
        
       

        
        //styles
       // Assuming the paragraphs are added to a container with an ID of 'container'

container.addEventListener('click', function(event) {
    if (event.target.tagName.toLowerCase() === 'p') {
        var text = event.target.textContent;
        if(text[2] === 'v'){
            window.location.href = `verb.html?id=${text}`;

        }
        else if(text[2] === 'n'){
            window.location.href = `noun.html?id=${text}`;

        }
        else{
            window.location.href = `word.html?id=${text}`;

        }
    }
});




/*


  const nounsDiv = document.getElementById('nouns');
        const verbsDiv = document.getElementById('verbs');
        const pronounsDiv = document.getElementById('pronouns');
        const adjsDiv = document.getElementById('adjs');




*/

$('#verbsBtn').on('click' , function(){
    nounsDiv.style.display = 'none'
    pronounsDiv.style.display = 'none'
    adjsDiv.style.display = 'none'
    verbsDiv.style.display = 'block'
    $('Button').css('background-color', 'white');
    $('Button').css('color', 'black');
    $(this).css('background-color', 'black');
    $(this).css('color', 'white');

    
})
$('#nounsBtn').on('click' , function(){
    nounsDiv.style.display = 'block'
    pronounsDiv.style.display = 'none'
    adjsDiv.style.display = 'none'
    verbsDiv.style.display = 'none'
    $('Button').css('background-color', 'white');
    $('Button').css('color', 'black');
    $(this).css('background-color', 'black');
    $(this).css('color', 'white');
    
})
$('#pronounsBtn').on('click' , function(){
    nounsDiv.style.display = 'none'
    pronounsDiv.style.display = 'block'
    adjsDiv.style.display = 'none'
    verbsDiv.style.display = 'none'

    $('Button').css('background-color', 'white');
    $('Button').css('color', 'black');
    $(this).css('background-color', 'black');
    $(this).css('color', 'white');
    
})
$('#adjsBtn').on('click' , function(){
    nounsDiv.style.display = 'none'
    pronounsDiv.style.display = 'none'
    adjsDiv.style.display = 'block'
    verbsDiv.style.display = 'none'
    $('Button').css('background-color', 'white');
    $('Button').css('color', 'black');
    $(this).css('background-color', 'black');
    $(this).css('color', 'white');

    
})

    </script>
</body>
</html>
